---
title: "[weekly] [nb] 웹 개발 시작하기(1)"
subtitle: "url의 구성 요소 중 쿼리가 무엇인지 실제 웹 서비스의 쿼리를 예시로 설명해 주세요."
tags:
  - weekly
layout: layouts/post.njk
date: 2025-04-29
---

## url(uniform resource locator)
url은 웹에 게시된 리소스를 검색하기 위한 주소에 불과하다.

이론적으로 각각의 url 주소는 고유한 하나의 리소스를 가리킨다. 단순하게는 html 문서, css 문서, 이미지 등이 될 수 있다. 그러나 이 규칙에도 몇 가지 예외가 있는데, 대게 더 이상 존재하지 않거나 이동된 리소스를 가리키는 경우다.

그렇기 때문에 url 을 관리하는 것은 백엔드 개발자에게는 굉장히 중요한 부분 중 하나다.

## url의 기본구조
url의 기본적인 구조를 살펴보자.

| scheme | :// | authority | path | ? | parameter | # | anchor |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| https |  :// | youtube.com | / | watch | v=PeLAIPQ_rZo | | |

구성요소 중에서 일부는 필수적이고, 일부는 선택 사항이다. 

각 요소별로 정리하면 아래와 같다.

## scheme(스낌)
라틴어 Skhema(형태)에서 유래 되었다.

단순히 리소스가 있는 주소라고 했는데 왜 형태를 따지는 지 궁금할 것이다. 이 url은 클라이언트와 서버가 서로에게 보내는 일종의 공문서의 개념이다.

모든 공문서가 그런 것은 아니지만, 대체로 공문서들은 지정된 양식을 반드시 지켜야 한다.

여기에 url을 위해서 정립된 규약(protocol)을 적는다. 다양한 규약들이 있지만, 우리에게 가장 익숙한 규약들은 아래 2 가지 일 것이다.

> http, https

**http(hyper text transfer protocol)** 은 말 그대로 hyper text 를 주고 받는 규약을 뜻한다. 

hyper text는 서로 뛰어넘어 다닐 수 있는 글을 의미한다. 우리가 흔히 말하는 html(hyper text markup language)가 이 글을 작성하기 위한 언어다. 즉, 단순하게 생각하면  웹 페이지 통신을 위한 규약이라는 뜻이 된다.

**https(hyper text transfer protocol secure)** 는 http에 보안을 추가한 규약이다. 

기존의 http 는 일반 글 형태로 서로 주고받았다. 별도의 처리가 없기 때문에 빨랐지만, 문제는 글을 주고받는 사이에 있는 다른 사람들도 이 글을 온전히 볼 수 있었다. 

이건 심각한 보안 문제를 가지고 왔기 때문에, 암호화와 인증서를 사용하는 새로운 규약이 만들어졌다. 현 시대에는 https 가 아닌 웹페이지는 보안을 이유로 웹브라우저에서 접근을 막기도 한다.

**외우기 드립**  
이 형태, 이 스낌(느낌) 알지?

## authority(어쏘리티)
주최자(host)의 정보를 담고 있다.

scheme 이 보내는 공문서의 양식을 정했다면, authority는 공문서를 받을 주소지를 뜻한다. 이 주소를 표현하는 방법은 크게 ip 주소 와 domain 주소로 나뉜다.

**ip 주소** 는 192.168.0.1 과 같이 숫자로 이루어지는 반면,
**domain 주소** 는 youtube.com 처럼 단어의 형태로 이루어진다.  

하지만 domain 주소도 결국엔 ip 주소를 가리키는 것과 같다. 직관적으로는 ip 주소는 실제 우리 집 아파트의 주소, domain 주소는 우체국의 주소라고 생각하면 편하다. 

domain 주소로 공문서가 왔을 때, 우체부가 ip 주소에 공문서를 대신 전달해준다. 이 우체부를 dns(domain name server)라고 부른다.

**외우기 드립**  
어쏘(어서) 오세요.  
전 이 펜션의 호스트(host)에요.  

ip 주소 보고 오셨어요,  
domain 주소 보고 오셨어요?  

## path(패쓰)
우체부가 우리 집 아파트로 공문서를 들고 왔지만 한가지 문제가 있다.

어느 동 어느 호인지 이제 찾아야 한다. 

다행히 공문서 규약에 따라서 어느 동 어느 호에 가져다 주면 되는지 적혀있다.

\/101동/\1004호/의 형태로 적혀있기 때문에 차근차근 찾아가면 된다.

## parameter(파라미터)
이제 101동 1004호 앞에 도착한 우체부가 문을 두드리고 공문서를 전달하려고 한다.

그런데 문을 열고 나온 사람이 물었다.

"누구에게 온 공문서인가요?"

우체부는 다시 한번 공문서를 살펴본다. 규약에 따라서 누구에게 이 공문서가 가야하는 지 적혀있기 때문이다. 그곳에는 짤막하게 공문서를 받을 사람의 이름이 적혀있다.

> ?name=춘식

우체부는 춘식이라는 사람을 찾으면 된다는 것을 알았다. 

설명을 들은 사람이 집안을 보고 "춘식아!"라고 외치자, 고양이 한 마리가 토도도 달려왔다. 공문서를 받을 대상은 고양이 였던 것이다!

이 사람(?)을 찾는 과정을 쿼리(query)라고 한다.

라틴어 quaerere(찾다) 에서 유래된 쿼리는 url 에서는 '?'로 시작한다. 그러나 쿼리의 내용 자체는 웹서비스 마다 규칙이 조금씩 다르기 때문에 조심해야 한다. 

**외우기 드립**  
인도에 가면 쿼리(커리)를 찾아야 하나?

## anshor(앵커)
공문서를 전달하려고 온 우체부는 이 공문서의 수신자가 고양이 라는 사실을 알고 당황해 하고 있다.

불행 중 다행으로 공문서에는 "수신자가 고양이일 경우, 오른쪽 발 젤리를 우측 하단 제출용 칸에 찍으세요." 라고 적혀있었다.

이것으로 우체부의 모험이 끝났으면 좋겠지만 결코 그렇지 않다.

우체부가 오른쪽 발 젤리를 공문서에 찍은 다음 다시 우체국으로 가지고 돌아간다. 그리고 우체국에서 고양이 발 젤리 도장을 신청했던 클라이언트에게 재출용 칸을 보낸다.

만약 이 닻(anchor)이 없었더라면, 우체부는 고양이 춘식이를 그대로 들고 우체국으로 돌아가야 했을 것이다. 그리고 클라이언트에게 고양이를 보냈어야 했다! 클라이언트는 단순히 춘식이의 발 젤리를 보고 싶었을 뿐인데 말이다.

보트가 특정 지점에 닻(anchor)을 내리고 떠있는 것처럼, 하나의 문서에서 특정 지점을 보고 싶을 때 사용할 수 있다.

## 마무리
그래서 원래의 목표대로 **url의 구성 요소 중 쿼리가 무엇인지 실제 웹 서비스의 쿼리를 예시로 설명** 하자면,

**https://** : https 규약에 따라  

**www.youtube.com** : youtube.com 주소지에 있는  

**/watch/** : 호실의  

**?v=PeLAIPQ_rZo** : v가 PeLAIPQ_rZo 인  

리소스를 요청하는 공문서에서 **v가 PeLAIPQ_rZo** 인 조건을 쿼리라 한다.


